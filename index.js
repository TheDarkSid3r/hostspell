var e=!1,o=(o,t,a)=>{var l=o.split("").map(e=>{if(" "==e)return"audio/space.wav";var o=e.toLowerCase();return"quip"==t&&(o="".concat(e.toUpperCase(),Math.floor(3*Math.random())+1)),"".concat("audio/",t,"/",o,".wav")});console.log(l);var i=new Crunker;i.fetchAudio(...l).then(e=>i.concatAudio(e)).then(e=>i.export(e,"audio/mp3")).then(l=>{a||Swal.close(),e&&e.stop(),$(".stop-audio").hide(),a||(e=new Howl({src:[l.url],format:["mp3"],autoplay:!0,onplay:()=>$(".stop-audio").show(),onend:()=>$(".stop-audio").hide()}));var n="".concat(t,"_",o.replace(/ /g,"_"));a?a(l.blob,n):i.download(l.blob,n)}).catch(e=>{console.log(e)})};$(()=>{var t=[{name:"Quiplash 3 (Schmitty)",id:"quip"},{name:"The Devils and the Details",id:"devils"},{name:"Champ'd Up",id:"champd"},{name:"Talking Points",id:"talks"},{name:"Blather 'Round",id:"blather"}];t.forEach(e=>{$(".host-select").append($("<option/>").attr({value:e.id}).html(e.name))}),$(".submit").on("click",()=>{var e=$(".word-input").val().trim().toUpperCase().replace(/[^A-Z ]/g,"").substring(0,40);e?(Swal.fire({icon:"info",title:"Generating&hellip;",showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),o(e,$(".host-select").val())):Swal.fire({icon:"error",title:"Error",html:"You have to type something! (that includes letters)"})}),$(".submit-all").on("click",()=>{var e=$(".word-input").val().trim().toUpperCase().replace(/[^A-Z ]/g,"").substring(0,40);if(e){Swal.fire({icon:"info",title:"Generating&hellip;",showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1});var a=new JSZip,l=0;t.forEach(i=>{o(e,i.id,(o,i)=>{a.file(i.concat(".mp3"),o),++l>=t.length&&(Swal.fire({icon:"info",title:"Zipping files&hellip;",showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),a.generateAsync({type:"blob"}).then(o=>{Swal.close(),saveAs(o,"".concat("all_",e.replace(/ /g,"_"),".zip"))}))})})}else Swal.fire({icon:"error",title:"Error",html:"You have to type something! (that includes letters)"})}),$(".stop-audio").hide().on("click",()=>{e&&e.stop(),$(".stop-audio").hide()})});
